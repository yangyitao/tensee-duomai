<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no" />
    <title>固浮比</title>
    <link href="../../../css/aui.css" rel="stylesheet" />
    <style>
        .aui-nav {
            height: 40px;
        }

            .aui-nav .aui-bar-tab {
                height: 40px;
            }

        .aui-bar-tab li {
            height: 40px;
            line-height: 40px;
        }

        .aui-nav .aui-bar-tab li.active {
            color: #fff;
            background: #16a085;
        }

        .aui-tab-nav {
            font-size: 14px;
            height: 40px;
        }

            .aui-tab-nav li {
                height: 40px;
                line-height: 40px;
            }
    </style>
</head>
<body>
    <div class="aui-tab" id="divTab">
        <ul id="TopBar" class="aui-tab-nav">
            <li data-power="Regional" class="active" data-role="big">大区</li>
            <li data-power="Province" data-role="big">省份</li>
            <li data-power="City" data-role="small">城市</li>
            <li data-power="Area" data-role="small">区域</li>
        </ul>
    </div>
    <div style="height: 25px">
        <table style="font-size: 10px;">
            <tr>
                <td data-group="Regional">
                    <div style="width: 10px; height: 10px; background: rgba(0,157,217,1); border-radius: 5px;"></div>
                </td>
                <td data-group="Regional" data-role="Date1_Fixed"></td>
                <td data-group="Regional">
                    <div style="width: 10px; height: 10px; background: rgba(0,157,217,0.5); border-radius: 5px;"></div>
                </td>
                <td data-group="Regional" data-role="Date1_Float"></td>
                <td>
                    <div style="width: 10px; height: 10px; background: rgba(255,193,0,1); border-radius: 5px;"></div>
                </td>
                <td data-role="Date2_Fixed"></td>
                <td>
                    <div style="width: 10px; height: 10px; background: rgba(255,193,0,0.5); border-radius: 5px;"></div>
                </td>
                <td data-role="Date2_Float"></td>
            </tr>
        </table>
    </div>
    <div id="main" style="width: 100%; height: 100%;"></div>
    <footer class="aui-nav" id="footer">
        <ul class="aui-bar-tab" id="BottomBar">
            <li data-type="Year" class="active">年度</li>
            <li data-type="Month">月度</li>
        </ul>
    </footer>
</body>
<script src="../../../script/api.js"></script>
<script src="../../../script/zepto.js"></script>
<script src="../../../script/honesty.base.js"></script>
<script src="../../../script/echarts.min.js"></script>
<script type="text/javascript">
    var _Data = null,//大区数据
        _DataExclude = null;//除了大区数据
    var arrFixedColor = ['rgba(0,157,217,1)', 'rgba(255,193,0,1)'],
        arrFloatColor = ['rgba(0,157,217,0.5)', 'rgba(255,193,0,0.5)'];
    apiready = function () {
        api.parseTapmode();
        $(function () {

            $("#main").height(api.frameHeight - 105);

            if (GetSession("Form_HRPower").toString().indexOf("AllProvince") >= 0) {
                $("[data-role='small']").hide();
            }
            else {
                $("[data-role='big']").hide();
                $("[data-role='small']").each(function () {
                    $("#TopBar").find(".active").removeClass("active");
                    $(this).addClass("active");

                    if ($(this).data("power") == "Regional") {
                        $("[data-group^='Regional']").show();
                    }
                    else {
                        $("[data-group^='Regional']").hide();
                    }

                    return false;
                });
            }

            LoadData();

            $("#TopBar").find("li").tap(function () {
                if ($(this).data("power") == "Regional") {
                    $("[data-group^='Regional']").show();
                }
                else {
                    $("[data-group^='Regional']").hide();
                }
                $("#TopBar").find(".active").removeClass("active");
                $(this).addClass("active");
                LoadData();
            });

            $("#BottomBar").find("li").tap(function () {
                $("#BottomBar").find(".active").removeClass("active");
                $(this).addClass("active");
                LoadData();
            });
        });

    }

    function LoadData() {
        if ($("#TopBar").find(".active").data("power") == "Regional") {
            if (_Data == null) {
                var _options = {
                    PostData: {
                        Params: {
                            result: "GetFixedFloatRate"
                        },
                        ProcName: "proc_Index_HRForm",
                        DataType: "DataTable",
                        ExecType: "PROC",
                        Mode: "MSSQL"
                    }
                };
                $.when($honesty.AjaxChannel(_options)).done(function (_result) {
                    if (_result.Code == "1") {
                        if (_result.Data.length > 0) {
                            _Data = _result.Data;
                            ChangeType();
                        }
                    }
                    else {
                        $honesty.CloseWin();
                    }
                });
            }
            else {
                ChangeType();
            }
        }
        else {
            if (_DataExclude == null) {
                var _options = {
                    PostData: {
                        Params: {
                            result: "GetFixedFloatRate1",
                            UserID: GetSession("UserID")
                        },
                        ProcName: "proc_Index_HRForm",
                        DataType: "DataTable",
                        ExecType: "PROC",
                        Mode: "MSSQL"
                    }
                };
                $.when($honesty.AjaxChannel(_options)).done(function (_result) {
                    if (_result.Code == "1") {
                        if (_result.Data.length > 0) {
                            _DataExclude = _result.Data;
                            ChangeType();
                        }
                    }
                    else {
                        $honesty.CloseWin();
                    }
                });
            }
            else {
                ChangeType();
            }
        }
    }

    function ChangeType() {
        var _Power = $("#TopBar").find(".active").data("power");
        var _Type = $("#BottomBar").find(".active").data("type");

        var arrCategory = new Array();
        var arrLegend = new Array();
        var arrSeries = new Array();
        var arrDate = new Array();
        var maxMonth = 0, maxYear = 0;
        switch (_Power) {
            //大区
            case "Regional":
                if (_Type == "Year") {
                    //获取数据中所有的岗位
                    arrLegend.push("整体");
                    $.each(_Data, function (i, item) {
                        if ($.inArray(item.Title, arrLegend) < 0) {
                            arrLegend.push(item.Title);
                        }
                    });
                    $.each(_Data, function (i, item) {
                        if ($.inArray(item.ZYear, arrDate) < 0) {
                            arrDate.push(item.ZYear);
                            $("[data-role='Date" + arrDate.length + "_Fixed']").html(item.ZYear + "固定");
                            $("[data-role='Date" + arrDate.length + "_Float']").html(item.ZYear + "浮动");
                            for (var i = 0; i < arrLegend.length; i++) {
                                arrSeries.push({ name: arrLegend[i], group: '固定工资', type: "bar", stack: item.ZYear, itemStyle: { normal: { color: arrFixedColor[arrDate.length - 1] } }, label: { normal: { show: true, position: "insideTop", formatter: '{c}%', textStyle: { color: "#fff" } } }, data: [] });
                                arrSeries.push({ name: arrLegend[i], group: '浮动工资', type: "bar", stack: item.ZYear, itemStyle: { normal: { color: arrFloatColor[arrDate.length - 1] } }, label: { normal: { show: true, position: "insideTop", formatter: '{c}%', textStyle: { color: "#fff" } } }, data: [] });
                            }
                        }
                        if ($.inArray(item.Regional, arrCategory) < 0) {
                            arrCategory.push(item.Regional);
                        }

                    });

                    for (var i = 0; i < arrSeries.length; i++) {
                        for (var j = 0; j < arrCategory.length; j++) {
                            arrSeries[i].data.push({ value: 0, FloatMoney: 0, FixedMoney: 0, Year: arrSeries[i].stack });
                        }
                    }
                    $.each(_Data, function (i, item) {
                        var _CategoryIndex = $.inArray(item.Regional, arrCategory);
                        for (var i = 0; i < arrSeries.length; i++) {
                            if (arrSeries[i].stack == item.ZYear) {
                                if (arrSeries[i].name == item.Title || arrSeries[i].name == "整体") {
                                    arrSeries[i].data[_CategoryIndex].FloatMoney = (Number(item.FloatMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)).toFixed(2);
                                    arrSeries[i].data[_CategoryIndex].FixedMoney = (Number(item.FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FixedMoney)).toFixed(2);
                                    if (arrSeries[i].group == "固定工资") {
                                        arrSeries[i].data[_CategoryIndex].value = (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) / (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)) * 100).toFixed(2);
                                    }
                                    else {
                                        arrSeries[i].data[_CategoryIndex].value = (Number(arrSeries[i].data[_CategoryIndex].FloatMoney) / (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)) * 100).toFixed(2);
                                    }
                                }
                            }
                        }
                    });
                    _default = {
                        tooltip: {
                            trigger: 'axis', textStyle: { fontSize: 12, }, axisPointer: { type: 'shadow' },
                            formatter: function (params, ticket, callback) {
                                var res = "";
                                var _year = "";
                                $.each(params, function (i, item) {
                                    if (_year == "") {
                                        res += item.name + "<br>" + item.data.Year + "固定工资：" + item.data.FixedMoney +
                                                "<br>" + item.data.Year + "浮动工资：" + item.data.FloatMoney +
                                                "<br>" + item.data.Year + "固浮比：" + (Number(item.data.FixedMoney) / Number(item.data.FloatMoney)).toFixed(2);
                                        _year = item.data.Year;
                                    }
                                    else if (_year != item.data.Year) {
                                        res += "<br>" + item.data.Year + "固定工资：" + item.data.FixedMoney +
                                               "<br>" + item.data.Year + "浮动工资：" + item.data.FloatMoney +
                                               "<br>" + item.data.Year + "固浮比：" + (Number(item.data.FixedMoney) / Number(item.data.FloatMoney)).toFixed(2);
                                        return false;
                                    }
                                });
                                setTimeout(function () { callback(ticket, res); }, 10);
                                return 'loading';
                            },
                        },
                        legend: { data: arrLegend, selectedMode: 'single', textStyle: { fontSize: 12 }, bottom: 1, itemGap: 5 },
                        grid: { left: '1%', right: '1%', bottom: '60', top: '5', containLabel: true },
                        xAxis: { type: 'category', data: arrCategory, axisLabel: { interval: 0 } },
                        yAxis: { type: 'value', axisLabel: { formatter: '{value} %' } },
                        series: arrSeries
                    };
                }
                else {
                    //获取数据中所有的岗位
                    arrLegend.push("整体");
                    $.each(_Data, function (i, item) {
                        if ($.inArray(item.Title, arrLegend) < 0) {
                            arrLegend.push(item.Title);
                        }
                        if (maxMonth < Number(item.ZMonth)) {
                            maxMonth = Number(item.ZMonth);
                        }
                    });
                    $.each(_Data, function (i, item) {
                        if (item.ZMonth == maxMonth) {
                            if ($.inArray(item.ZYear, arrDate) < 0) {
                                arrDate.push(item.ZYear);
                                $("[data-role='Date" + arrDate.length + "_Fixed']").html(item.ZYear + "固定");
                                $("[data-role='Date" + arrDate.length + "_Float']").html(item.ZYear + "浮动");
                                for (var i = 0; i < arrLegend.length; i++) {
                                    arrSeries.push({ name: arrLegend[i], group: '固定工资', type: "bar", stack: item.ZYear, itemStyle: { normal: { color: arrFixedColor[arrDate.length - 1] } }, label: { normal: { show: true, position: "insideTop", formatter: '{c}%', textStyle: { color: "#fff" } } }, data: [] });
                                    arrSeries.push({ name: arrLegend[i], group: '浮动工资', type: "bar", stack: item.ZYear, itemStyle: { normal: { color: arrFloatColor[arrDate.length - 1] } }, label: { normal: { show: true, position: "insideTop", formatter: '{c}%', textStyle: { color: "#fff" } } }, data: [] });
                                }
                            }
                            if ($.inArray(item.Regional, arrCategory) < 0) {
                                arrCategory.push(item.Regional);
                            }
                        }
                    });

                    for (var i = 0; i < arrSeries.length; i++) {
                        for (var j = 0; j < arrCategory.length; j++) {
                            arrSeries[i].data.push({ value: 0, FloatMoney: 0, FixedMoney: 0, Year: arrSeries[i].stack });
                        }
                    }
                    $.each(_Data, function (i, item) {
                        if (item.ZMonth == maxMonth) {
                            var _CategoryIndex = $.inArray(item.Regional, arrCategory);
                            for (var i = 0; i < arrSeries.length; i++) {
                                if (arrSeries[i].stack == item.ZYear) {
                                    if (arrSeries[i].name == item.Title || arrSeries[i].name == "整体") {
                                        arrSeries[i].data[_CategoryIndex].FloatMoney = (Number(item.FloatMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)).toFixed(2);
                                        arrSeries[i].data[_CategoryIndex].FixedMoney = (Number(item.FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FixedMoney)).toFixed(2);
                                        if (arrSeries[i].group == "固定工资") {
                                            arrSeries[i].data[_CategoryIndex].value = (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) / (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)) * 100).toFixed(2);
                                        }
                                        else {
                                            arrSeries[i].data[_CategoryIndex].value = (Number(arrSeries[i].data[_CategoryIndex].FloatMoney) / (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)) * 100).toFixed(2);
                                        }
                                    }
                                }
                            }
                        }
                    });
                    _default = {
                        tooltip: {
                            trigger: 'axis', textStyle: { fontSize: 12, }, axisPointer: { type: 'shadow' },
                            formatter: function (params, ticket, callback) {
                                var res = "";
                                var _year = "";
                                $.each(params, function (i, item) {
                                    if (_year == "") {
                                        res += item.name + "<br>" + item.data.Year + "固定工资：" + item.data.FixedMoney +
                                                "<br>" + item.data.Year + "浮动工资：" + item.data.FloatMoney +
                                                "<br>" + item.data.Year + "固浮比：" + (Number(item.data.FixedMoney) / Number(item.data.FloatMoney)).toFixed(2);
                                        _year = item.data.Year;
                                    }
                                    else if (_year != item.data.Year) {
                                        res += "<br>" + item.data.Year + "固定工资：" + item.data.FixedMoney +
                                               "<br>" + item.data.Year + "浮动工资：" + item.data.FloatMoney +
                                               "<br>" + item.data.Year + "固浮比：" + (Number(item.data.FixedMoney) / Number(item.data.FloatMoney)).toFixed(2);
                                        return false;
                                    }
                                });
                                setTimeout(function () { callback(ticket, res); }, 10);
                                return 'loading';
                            },
                        },
                        legend: { data: arrLegend, selectedMode: 'single', textStyle: { fontSize: 12 }, bottom: 1, itemGap: 5 },
                        grid: { left: '1%', right: '1%', bottom: '60', top: '5', containLabel: true },
                        xAxis: { type: 'category', data: arrCategory, axisLabel: { interval: 0 } },
                        yAxis: { type: 'value', axisLabel: { formatter: '{value} %' } },
                        series: arrSeries
                    };
                }
                break;
            case "Province":
                if (_Type == "Year") {
                    //获取数据中所有的岗位
                    arrLegend.push("整体");
                    $.each(_DataExclude, function (i, item) {
                        if ($.inArray(item.Title, arrLegend) < 0) {
                            arrLegend.push(item.Title);
                        }
                        if (maxYear < Number(item.ZYear)) {
                            maxYear = Number(item.ZYear);
                        }
                        if ($.inArray(item.Province, arrCategory) < 0) {
                            arrCategory.push(item.Province);
                        }
                    });
                    $("[data-role='Date2_Fixed']").html(maxYear + "固定");
                    $("[data-role='Date2_Float']").html(maxYear + "浮动");
                    for (var i = 0; i < arrLegend.length; i++) {
                        arrSeries.push({ name: arrLegend[i], group: '固定工资', type: "bar", stack: maxYear, itemStyle: { normal: { color: arrFixedColor[1] } }, label: { normal: { show: true, position: arrCategory.length > 6 ? "insideRight" : "insideTop", formatter: '{c}%', textStyle: { color: "#fff" } } }, data: [] });
                        arrSeries.push({ name: arrLegend[i], group: '浮动工资', type: "bar", stack: maxYear, itemStyle: { normal: { color: arrFloatColor[1] } }, label: { normal: { show: true, position: arrCategory.length > 6 ? "insideRight" : "insideTop", formatter: '{c}%', textStyle: { color: "#fff" } } }, data: [] });
                    }

                    for (var i = 0; i < arrSeries.length; i++) {
                        for (var j = 0; j < arrCategory.length; j++) {
                            arrSeries[i].data.push({ value: 0, FloatMoney: 0, FixedMoney: 0, Year: arrSeries[i].stack, PerFloatMoney: 0, PreFixedMoney: 0 });
                        }
                    }
                    $.each(_DataExclude, function (i, item) {
                        var _CategoryIndex = $.inArray(item.Province, arrCategory);
                        for (var i = 0; i < arrSeries.length; i++) {
                            if (arrSeries[i].name == item.Title || arrSeries[i].name == "整体") {
                                if (maxYear == item.ZYear) {
                                    arrSeries[i].data[_CategoryIndex].FloatMoney = (Number(item.FloatMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)).toFixed(2);
                                    arrSeries[i].data[_CategoryIndex].FixedMoney = (Number(item.FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FixedMoney)).toFixed(2);
                                    if (arrSeries[i].group == "固定工资") {
                                        arrSeries[i].data[_CategoryIndex].value = (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) / (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)) * 100).toFixed(2);
                                    }
                                    else {
                                        arrSeries[i].data[_CategoryIndex].value = (Number(arrSeries[i].data[_CategoryIndex].FloatMoney) / (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)) * 100).toFixed(2);
                                    }
                                }
                                else {
                                    arrSeries[i].data[_CategoryIndex].PerFloatMoney = (Number(item.FloatMoney) + Number(arrSeries[i].data[_CategoryIndex].PerFloatMoney)).toFixed(2);
                                    arrSeries[i].data[_CategoryIndex].PreFixedMoney = (Number(item.FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].PreFixedMoney)).toFixed(2);
                                }
                            }
                        }
                    });
                    _default = {
                        tooltip: {
                            trigger: 'axis', textStyle: { fontSize: 12, }, axisPointer: { type: 'shadow' },
                            formatter: function (params, ticket, callback) {
                                var res = "";
                                $.each(params, function (i, item) {
                                    if (res == "") {
                                        res += item.name +
                                               "<br>" + (Number(item.data.Year) - 1) + "固定工资：" + item.data.PreFixedMoney +
                                               "<br>" + (Number(item.data.Year) - 1) + "浮动工资：" + item.data.PerFloatMoney +
                                               "<br>" + (Number(item.data.Year) - 1) + "固浮比：" + (Number(item.data.PreFixedMoney) / Number(item.data.PerFloatMoney)).toFixed(2) +
                                               "<br>" + item.data.Year + "固定工资：" + item.data.FixedMoney +
                                               "<br>" + item.data.Year + "浮动工资：" + item.data.FloatMoney +
                                               "<br>" + item.data.Year + "固浮比：" + (Number(item.data.FixedMoney) / Number(item.data.FloatMoney)).toFixed(2);
                                        return false;
                                    }
                                });
                                setTimeout(function () { callback(ticket, res.replace(/\NaN/g, "0")); }, 10);
                                return 'loading';
                            },
                        },
                        legend: { data: arrLegend, selectedMode: 'single', textStyle: { fontSize: 12 }, bottom: 1, itemGap: 5 },
                        grid: { left: '1%', right: '1%', bottom: '60', top: '5', containLabel: true },
                        xAxis: { type: 'category', data: arrCategory, axisLabel: { interval: 0 } },
                        yAxis: { type: 'value', axisLabel: { formatter: '{value} %' } },
                        series: arrSeries
                    };

                    if (arrCategory.length > 6) {
                        _default.yAxis = { type: 'category', data: arrCategory, axisLabel: { interval: 0 }, }
                        _default.xAxis = { type: 'value', axisLabel: { formatter: '{value} %' } }
                    }
                }
                else {
                    //获取数据中所有的岗位
                    arrLegend.push("整体");
                    $.each(_DataExclude, function (i, item) {
                        if ($.inArray(item.Title, arrLegend) < 0) {
                            arrLegend.push(item.Title);
                        }
                        if (maxYear < Number(item.ZYear)) {
                            maxYear = Number(item.ZYear);
                        }
                        if (maxMonth < Number(item.ZMonth)) {
                            maxMonth = Number(item.ZMonth);
                        }
                        if ($.inArray(item.Province, arrCategory) < 0) {
                            arrCategory.push(item.Province);
                        }
                    });
                    $("[data-role='Date2_Fixed']").html(maxYear + "固定");
                    $("[data-role='Date2_Float']").html(maxYear + "浮动");
                    for (var i = 0; i < arrLegend.length; i++) {
                        arrSeries.push({ name: arrLegend[i], group: '固定工资', type: "bar", stack: maxYear, itemStyle: { normal: { color: arrFixedColor[1] } }, label: { normal: { show: true, position: arrCategory.length > 6 ? "insideRight" : "insideTop", formatter: '{c}%', textStyle: { color: "#fff" } } }, data: [] });
                        arrSeries.push({ name: arrLegend[i], group: '浮动工资', type: "bar", stack: maxYear, itemStyle: { normal: { color: arrFloatColor[1] } }, label: { normal: { show: true, position: arrCategory.length > 6 ? "insideRight" : "insideTop", formatter: '{c}%', textStyle: { color: "#fff" } } }, data: [] });
                    }

                    for (var i = 0; i < arrSeries.length; i++) {
                        for (var j = 0; j < arrCategory.length; j++) {
                            arrSeries[i].data.push({ value: 0, FloatMoney: 0, FixedMoney: 0, Year: arrSeries[i].stack, PerFloatMoney: 0, PreFixedMoney: 0 });
                        }
                    }
                    $.each(_DataExclude, function (i, item) {
                        if (item.ZMonth == maxMonth) {
                            var _CategoryIndex = $.inArray(item.Province, arrCategory);
                            for (var i = 0; i < arrSeries.length; i++) {
                                if (arrSeries[i].name == item.Title || arrSeries[i].name == "整体") {
                                    if (maxYear == item.ZYear) {
                                        arrSeries[i].data[_CategoryIndex].FloatMoney = (Number(item.FloatMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)).toFixed(2);
                                        arrSeries[i].data[_CategoryIndex].FixedMoney = (Number(item.FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FixedMoney)).toFixed(2);
                                        if (arrSeries[i].group == "固定工资") {
                                            arrSeries[i].data[_CategoryIndex].value = (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) / (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)) * 100).toFixed(2);
                                        }
                                        else {
                                            arrSeries[i].data[_CategoryIndex].value = (Number(arrSeries[i].data[_CategoryIndex].FloatMoney) / (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)) * 100).toFixed(2);
                                        }
                                    }
                                    else {
                                        arrSeries[i].data[_CategoryIndex].PerFloatMoney = (Number(item.FloatMoney) + Number(arrSeries[i].data[_CategoryIndex].PerFloatMoney)).toFixed(2);
                                        arrSeries[i].data[_CategoryIndex].PreFixedMoney = (Number(item.FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].PreFixedMoney)).toFixed(2);
                                    }
                                }
                            }
                        }
                    });
                    _default = {
                        tooltip: {
                            trigger: 'axis', textStyle: { fontSize: 12, }, axisPointer: { type: 'shadow' },
                            formatter: function (params, ticket, callback) {
                                var res = "";
                                $.each(params, function (i, item) {
                                    if (res == "") {
                                        res += item.name +
                                               "<br>" + (Number(item.data.Year) - 1) + "固定工资：" + item.data.PreFixedMoney +
                                               "<br>" + (Number(item.data.Year) - 1) + "浮动工资：" + item.data.PerFloatMoney +
                                               "<br>" + (Number(item.data.Year) - 1) + "固浮比：" + (Number(item.data.PreFixedMoney) / Number(item.data.PerFloatMoney)).toFixed(2) +
                                               "<br>" + item.data.Year + "固定工资：" + item.data.FixedMoney +
                                               "<br>" + item.data.Year + "浮动工资：" + item.data.FloatMoney +
                                               "<br>" + item.data.Year + "固浮比：" + (Number(item.data.FixedMoney) / Number(item.data.FloatMoney)).toFixed(2);
                                        return false;
                                    }
                                });
                                setTimeout(function () { callback(ticket, res.replace(/\NaN/g, "0")); }, 10);
                                return 'loading';
                            },
                        },
                        legend: { data: arrLegend, selectedMode: 'single', textStyle: { fontSize: 12 }, bottom: 1, itemGap: 5 },
                        grid: { left: '1%', right: '1%', bottom: '60', top: '5', containLabel: true },
                        xAxis: { type: 'category', data: arrCategory, axisLabel: { interval: 0 } },
                        yAxis: { type: 'value', axisLabel: { formatter: '{value} %' } },
                        series: arrSeries
                    };

                    if (arrCategory.length > 6) {
                        _default.yAxis = { type: 'category', data: arrCategory, axisLabel: { interval: 0 }, }
                        _default.xAxis = { type: 'value', axisLabel: { formatter: '{value} %' } }
                    }
                }
                break;
            case "City":
                if (_Type == "Year") {
                    //获取数据中所有的岗位
                    arrLegend.push("整体");
                    $.each(_DataExclude, function (i, item) {
                        if ($.inArray(item.Title, arrLegend) < 0) {
                            arrLegend.push(item.Title);
                        }
                        if (maxYear < Number(item.ZYear)) {
                            maxYear = Number(item.ZYear);
                        }
                        if ($.inArray(item.City, arrCategory) < 0) {
                            arrCategory.push(item.City);
                        }
                    });
                    $("[data-role='Date2_Fixed']").html(maxYear + "固定");
                    $("[data-role='Date2_Float']").html(maxYear + "浮动");
                    for (var i = 0; i < arrLegend.length; i++) {
                        arrSeries.push({ name: arrLegend[i], group: '固定工资', type: "bar", stack: maxYear, itemStyle: { normal: { color: arrFixedColor[1] } }, label: { normal: { show: true, position: arrCategory.length > 6 ? "insideRight" : "insideTop", formatter: '{c}%', textStyle: { color: "#fff" } } }, data: [] });
                        arrSeries.push({ name: arrLegend[i], group: '浮动工资', type: "bar", stack: maxYear, itemStyle: { normal: { color: arrFloatColor[1] } }, label: { normal: { show: true, position: arrCategory.length > 6 ? "insideRight" : "insideTop", formatter: '{c}%', textStyle: { color: "#fff" } } }, data: [] });
                    }

                    for (var i = 0; i < arrSeries.length; i++) {
                        for (var j = 0; j < arrCategory.length; j++) {
                            arrSeries[i].data.push({ value: 0, FloatMoney: 0, FixedMoney: 0, Year: arrSeries[i].stack, PerFloatMoney: 0, PreFixedMoney: 0 });
                        }
                    }
                    $.each(_DataExclude, function (i, item) {
                        var _CategoryIndex = $.inArray(item.City, arrCategory);
                        for (var i = 0; i < arrSeries.length; i++) {
                            if (arrSeries[i].name == item.Title || arrSeries[i].name == "整体") {
                                if (maxYear == item.ZYear) {
                                    arrSeries[i].data[_CategoryIndex].FloatMoney = (Number(item.FloatMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)).toFixed(2);
                                    arrSeries[i].data[_CategoryIndex].FixedMoney = (Number(item.FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FixedMoney)).toFixed(2);
                                    if (arrSeries[i].group == "固定工资") {
                                        arrSeries[i].data[_CategoryIndex].value = (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) / (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)) * 100).toFixed(2);
                                    }
                                    else {
                                        arrSeries[i].data[_CategoryIndex].value = (Number(arrSeries[i].data[_CategoryIndex].FloatMoney) / (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)) * 100).toFixed(2);
                                    }
                                }
                                else {
                                    arrSeries[i].data[_CategoryIndex].PerFloatMoney = (Number(item.FloatMoney) + Number(arrSeries[i].data[_CategoryIndex].PerFloatMoney)).toFixed(2);
                                    arrSeries[i].data[_CategoryIndex].PreFixedMoney = (Number(item.FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].PreFixedMoney)).toFixed(2);
                                }
                            }
                        }
                    });
                    _default = {
                        tooltip: {
                            trigger: 'axis', textStyle: { fontSize: 12, }, axisPointer: { type: 'shadow' },
                            formatter: function (params, ticket, callback) {
                                var res = "";
                                $.each(params, function (i, item) {
                                    if (res == "") {
                                        res += item.name +
                                               "<br>" + (Number(item.data.Year) - 1) + "固定工资：" + item.data.PreFixedMoney +
                                               "<br>" + (Number(item.data.Year) - 1) + "浮动工资：" + item.data.PerFloatMoney +
                                               "<br>" + (Number(item.data.Year) - 1) + "固浮比：" + (Number(item.data.PreFixedMoney) / Number(item.data.PerFloatMoney)).toFixed(2) +
                                               "<br>" + item.data.Year + "固定工资：" + item.data.FixedMoney +
                                               "<br>" + item.data.Year + "浮动工资：" + item.data.FloatMoney +
                                               "<br>" + item.data.Year + "固浮比：" + (Number(item.data.FixedMoney) / Number(item.data.FloatMoney)).toFixed(2);
                                        return false;
                                    }
                                });
                                setTimeout(function () { callback(ticket, res.replace(/\NaN/g, "0")); }, 10);
                                return 'loading';
                            },
                        },
                        legend: { data: arrLegend, selectedMode: 'single', textStyle: { fontSize: 12 }, bottom: 1, itemGap: 5 },
                        grid: { left: '1%', right: '1%', bottom: '60', top: '5', containLabel: true },
                        xAxis: { type: 'category', data: arrCategory, axisLabel: { interval: 0 } },
                        yAxis: { type: 'value', axisLabel: { formatter: '{value} %' } },
                        series: arrSeries
                    };

                    if (arrCategory.length > 6) {
                        _default.yAxis = { type: 'category', data: arrCategory, axisLabel: { interval: 0 }, }
                        _default.xAxis = { type: 'value', axisLabel: { formatter: '{value} %' } }
                    }
                }
                else {
                    //获取数据中所有的岗位
                    arrLegend.push("整体");
                    $.each(_DataExclude, function (i, item) {
                        if ($.inArray(item.Title, arrLegend) < 0) {
                            arrLegend.push(item.Title);
                        }
                        if (maxYear < Number(item.ZYear)) {
                            maxYear = Number(item.ZYear);
                        }
                        if (maxMonth < Number(item.ZMonth)) {
                            maxMonth = Number(item.ZMonth);
                        }
                        if ($.inArray(item.City, arrCategory) < 0) {
                            arrCategory.push(item.City);
                        }
                    });
                    $("[data-role='Date2_Fixed']").html(maxYear + "固定");
                    $("[data-role='Date2_Float']").html(maxYear + "浮动");
                    for (var i = 0; i < arrLegend.length; i++) {
                        arrSeries.push({ name: arrLegend[i], group: '固定工资', type: "bar", stack: maxYear, itemStyle: { normal: { color: arrFixedColor[1] } }, label: { normal: { show: true, position: arrCategory.length > 6 ? "insideRight" : "insideTop", formatter: '{c}%', textStyle: { color: "#fff" } } }, data: [] });
                        arrSeries.push({ name: arrLegend[i], group: '浮动工资', type: "bar", stack: maxYear, itemStyle: { normal: { color: arrFloatColor[1] } }, label: { normal: { show: true, position: arrCategory.length > 6 ? "insideRight" : "insideTop", formatter: '{c}%', textStyle: { color: "#fff" } } }, data: [] });
                    }

                    for (var i = 0; i < arrSeries.length; i++) {
                        for (var j = 0; j < arrCategory.length; j++) {
                            arrSeries[i].data.push({ value: 0, FloatMoney: 0, FixedMoney: 0, Year: arrSeries[i].stack, PerFloatMoney: 0, PreFixedMoney: 0 });
                        }
                    }
                    $.each(_DataExclude, function (i, item) {
                        if (item.ZMonth == maxMonth) {
                            var _CategoryIndex = $.inArray(item.City, arrCategory);
                            for (var i = 0; i < arrSeries.length; i++) {
                                if (arrSeries[i].name == item.Title || arrSeries[i].name == "整体") {
                                    if (maxYear == item.ZYear) {
                                        arrSeries[i].data[_CategoryIndex].FloatMoney = (Number(item.FloatMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)).toFixed(2);
                                        arrSeries[i].data[_CategoryIndex].FixedMoney = (Number(item.FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FixedMoney)).toFixed(2);
                                        if (arrSeries[i].group == "固定工资") {
                                            arrSeries[i].data[_CategoryIndex].value = (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) / (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)) * 100).toFixed(2);
                                        }
                                        else {
                                            arrSeries[i].data[_CategoryIndex].value = (Number(arrSeries[i].data[_CategoryIndex].FloatMoney) / (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)) * 100).toFixed(2);
                                        }
                                    }
                                    else {
                                        arrSeries[i].data[_CategoryIndex].PerFloatMoney = (Number(item.FloatMoney) + Number(arrSeries[i].data[_CategoryIndex].PerFloatMoney)).toFixed(2);
                                        arrSeries[i].data[_CategoryIndex].PreFixedMoney = (Number(item.FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].PreFixedMoney)).toFixed(2);
                                    }
                                }
                            }
                        }
                    });
                    _default = {
                        tooltip: {
                            trigger: 'axis', textStyle: { fontSize: 12, }, axisPointer: { type: 'shadow' },
                            formatter: function (params, ticket, callback) {
                                var res = "";
                                $.each(params, function (i, item) {
                                    if (res == "") {
                                        res += item.name +
                                               "<br>" + (Number(item.data.Year) - 1) + "固定工资：" + item.data.PreFixedMoney +
                                               "<br>" + (Number(item.data.Year) - 1) + "浮动工资：" + item.data.PerFloatMoney +
                                               "<br>" + (Number(item.data.Year) - 1) + "固浮比：" + (Number(item.data.PreFixedMoney) / Number(item.data.PerFloatMoney)).toFixed(2) +
                                               "<br>" + item.data.Year + "固定工资：" + item.data.FixedMoney +
                                               "<br>" + item.data.Year + "浮动工资：" + item.data.FloatMoney +
                                               "<br>" + item.data.Year + "固浮比：" + (Number(item.data.FixedMoney) / Number(item.data.FloatMoney)).toFixed(2);
                                        return false;
                                    }
                                });
                                setTimeout(function () { callback(ticket, res.replace(/\NaN/g, "0")); }, 10);
                                return 'loading';
                            },
                        },
                        legend: { data: arrLegend, selectedMode: 'single', textStyle: { fontSize: 12 }, bottom: 1, itemGap: 5 },
                        grid: { left: '1%', right: '1%', bottom: '60', top: '5', containLabel: true },
                        xAxis: { type: 'category', data: arrCategory, axisLabel: { interval: 0 } },
                        yAxis: { type: 'value', axisLabel: { formatter: '{value} %' } },
                        series: arrSeries
                    };

                    if (arrCategory.length > 6) {
                        _default.yAxis = { type: 'category', data: arrCategory, axisLabel: { interval: 0 }, }
                        _default.xAxis = { type: 'value', axisLabel: { formatter: '{value} %' } }
                    }
                }
                break;
            case "Area":
                if (_Type == "Year") {
                    //获取数据中所有的岗位
                    arrLegend.push("整体");
                    $.each(_DataExclude, function (i, item) {
                        if ($.inArray(item.Title, arrLegend) < 0) {
                            arrLegend.push(item.Title);
                        }
                        if (maxYear < Number(item.ZYear)) {
                            maxYear = Number(item.ZYear);
                        }
                        if ($.inArray(item.AreaName, arrCategory) < 0) {
                            arrCategory.push(item.AreaName);
                        }
                    });
                    $("[data-role='Date2_Fixed']").html(maxYear + "固定");
                    $("[data-role='Date2_Float']").html(maxYear + "浮动");
                    for (var i = 0; i < arrLegend.length; i++) {
                        arrSeries.push({ name: arrLegend[i], group: '固定工资', type: "bar", stack: maxYear, itemStyle: { normal: { color: arrFixedColor[1] } }, label: { normal: { show: true, position: arrCategory.length > 6 ? "insideRight" : "insideTop", formatter: '{c}%', textStyle: { color: "#fff" } } }, data: [] });
                        arrSeries.push({ name: arrLegend[i], group: '浮动工资', type: "bar", stack: maxYear, itemStyle: { normal: { color: arrFloatColor[1] } }, label: { normal: { show: true, position: arrCategory.length > 6 ? "insideRight" : "insideTop", formatter: '{c}%', textStyle: { color: "#fff" } } }, data: [] });
                    }

                    for (var i = 0; i < arrSeries.length; i++) {
                        for (var j = 0; j < arrCategory.length; j++) {
                            arrSeries[i].data.push({ value: 0, FloatMoney: 0, FixedMoney: 0, Year: arrSeries[i].stack, PerFloatMoney: 0, PreFixedMoney: 0 });
                        }
                    }
                    $.each(_DataExclude, function (i, item) {
                        var _CategoryIndex = $.inArray(item.AreaName, arrCategory);
                        for (var i = 0; i < arrSeries.length; i++) {
                            if (arrSeries[i].name == item.Title || arrSeries[i].name == "整体") {
                                if (maxYear == item.ZYear) {
                                    arrSeries[i].data[_CategoryIndex].FloatMoney = (Number(item.FloatMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)).toFixed(2);
                                    arrSeries[i].data[_CategoryIndex].FixedMoney = (Number(item.FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FixedMoney)).toFixed(2);
                                    if (arrSeries[i].group == "固定工资") {
                                        arrSeries[i].data[_CategoryIndex].value = (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) / (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)) * 100).toFixed(2);
                                    }
                                    else {
                                        arrSeries[i].data[_CategoryIndex].value = (Number(arrSeries[i].data[_CategoryIndex].FloatMoney) / (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)) * 100).toFixed(2);
                                    }
                                }
                                else {
                                    arrSeries[i].data[_CategoryIndex].PerFloatMoney = (Number(item.FloatMoney) + Number(arrSeries[i].data[_CategoryIndex].PerFloatMoney)).toFixed(2);
                                    arrSeries[i].data[_CategoryIndex].PreFixedMoney = (Number(item.FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].PreFixedMoney)).toFixed(2);
                                }
                            }
                        }
                    });
                    _default = {
                        tooltip: {
                            trigger: 'axis', textStyle: { fontSize: 12, }, axisPointer: { type: 'shadow' },
                            formatter: function (params, ticket, callback) {
                                var res = "";
                                $.each(params, function (i, item) {
                                    if (res == "") {
                                        res += item.name +
                                               "<br>" + (Number(item.data.Year) - 1) + "固定工资：" + item.data.PreFixedMoney +
                                               "<br>" + (Number(item.data.Year) - 1) + "浮动工资：" + item.data.PerFloatMoney +
                                               "<br>" + (Number(item.data.Year) - 1) + "固浮比：" + (Number(item.data.PreFixedMoney) / Number(item.data.PerFloatMoney)).toFixed(2) +
                                               "<br>" + item.data.Year + "固定工资：" + item.data.FixedMoney +
                                               "<br>" + item.data.Year + "浮动工资：" + item.data.FloatMoney +
                                               "<br>" + item.data.Year + "固浮比：" + (Number(item.data.FixedMoney) / Number(item.data.FloatMoney)).toFixed(2);
                                        return false;
                                    }
                                });
                                setTimeout(function () { callback(ticket, res.replace(/\NaN/g, "0")); }, 10);
                                return 'loading';
                            },
                        },
                        legend: { data: arrLegend, selectedMode: 'single', textStyle: { fontSize: 12 }, bottom: 1, itemGap: 5 },
                        grid: { left: '1%', right: '1%', bottom: '60', top: '5', containLabel: true },
                        xAxis: { type: 'category', data: arrCategory, axisLabel: { interval: 0 } },
                        yAxis: { type: 'value', axisLabel: { formatter: '{value} %' } },
                        series: arrSeries
                    };

                    if (arrCategory.length > 6) {
                        _default.yAxis = { type: 'category', data: arrCategory, axisLabel: { interval: 0 }, }
                        _default.xAxis = { type: 'value', axisLabel: { formatter: '{value} %' } }
                    }
                }
                else {
                    //获取数据中所有的岗位
                    arrLegend.push("整体");
                    $.each(_DataExclude, function (i, item) {
                        if ($.inArray(item.Title, arrLegend) < 0) {
                            arrLegend.push(item.Title);
                        }
                        if (maxYear < Number(item.ZYear)) {
                            maxYear = Number(item.ZYear);
                        }
                        if (maxMonth < Number(item.ZMonth)) {
                            maxMonth = Number(item.ZMonth);
                        }
                        if ($.inArray(item.AreaName, arrCategory) < 0) {
                            arrCategory.push(item.AreaName);
                        }
                    });
                    $("[data-role='Date2_Fixed']").html(maxYear + "固定");
                    $("[data-role='Date2_Float']").html(maxYear + "浮动");
                    for (var i = 0; i < arrLegend.length; i++) {
                        arrSeries.push({ name: arrLegend[i], group: '固定工资', type: "bar", stack: maxYear, itemStyle: { normal: { color: arrFixedColor[1] } }, label: { normal: { show: true, position: arrCategory.length > 6 ? "insideRight" : "insideTop", formatter: '{c}%', textStyle: { color: "#fff" } } }, data: [] });
                        arrSeries.push({ name: arrLegend[i], group: '浮动工资', type: "bar", stack: maxYear, itemStyle: { normal: { color: arrFloatColor[1] } }, label: { normal: { show: true, position: arrCategory.length > 6 ? "insideRight" : "insideTop", formatter: '{c}%', textStyle: { color: "#fff" } } }, data: [] });
                    }

                    for (var i = 0; i < arrSeries.length; i++) {
                        for (var j = 0; j < arrCategory.length; j++) {
                            arrSeries[i].data.push({ value: 0, FloatMoney: 0, FixedMoney: 0, Year: arrSeries[i].stack, PerFloatMoney: 0, PreFixedMoney: 0 });
                        }
                    }
                    $.each(_DataExclude, function (i, item) {
                        if (item.ZMonth == maxMonth) {
                            var _CategoryIndex = $.inArray(item.AreaName, arrCategory);
                            for (var i = 0; i < arrSeries.length; i++) {
                                if (arrSeries[i].name == item.Title || arrSeries[i].name == "整体") {
                                    if (maxYear == item.ZYear) {
                                        arrSeries[i].data[_CategoryIndex].FloatMoney = (Number(item.FloatMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)).toFixed(2);
                                        arrSeries[i].data[_CategoryIndex].FixedMoney = (Number(item.FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FixedMoney)).toFixed(2);
                                        if (arrSeries[i].group == "固定工资") {
                                            arrSeries[i].data[_CategoryIndex].value = (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) / (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)) * 100).toFixed(2);
                                        }
                                        else {
                                            arrSeries[i].data[_CategoryIndex].value = (Number(arrSeries[i].data[_CategoryIndex].FloatMoney) / (Number(arrSeries[i].data[_CategoryIndex].FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].FloatMoney)) * 100).toFixed(2);
                                        }
                                    }
                                    else {
                                        arrSeries[i].data[_CategoryIndex].PerFloatMoney = (Number(item.FloatMoney) + Number(arrSeries[i].data[_CategoryIndex].PerFloatMoney)).toFixed(2);
                                        arrSeries[i].data[_CategoryIndex].PreFixedMoney = (Number(item.FixedMoney) + Number(arrSeries[i].data[_CategoryIndex].PreFixedMoney)).toFixed(2);
                                    }
                                }
                            }
                        }
                    });
                    _default = {
                        tooltip: {
                            trigger: 'axis', textStyle: { fontSize: 12, }, axisPointer: { type: 'shadow' },
                            formatter: function (params, ticket, callback) {
                                var res = "";
                                $.each(params, function (i, item) {
                                    if (res == "") {
                                        res += item.name +
                                               "<br>" + (Number(item.data.Year) - 1) + "固定工资：" + item.data.PreFixedMoney +
                                               "<br>" + (Number(item.data.Year) - 1) + "浮动工资：" + item.data.PerFloatMoney +
                                               "<br>" + (Number(item.data.Year) - 1) + "固浮比：" + (Number(item.data.PreFixedMoney) / Number(item.data.PerFloatMoney)).toFixed(2) +
                                               "<br>" + item.data.Year + "固定工资：" + item.data.FixedMoney +
                                               "<br>" + item.data.Year + "浮动工资：" + item.data.FloatMoney +
                                               "<br>" + item.data.Year + "固浮比：" + (Number(item.data.FixedMoney) / Number(item.data.FloatMoney)).toFixed(2);
                                        return false;
                                    }
                                });
                                setTimeout(function () { callback(ticket, res.replace(/\NaN/g, "0")); }, 10);
                                return 'loading';
                            },
                        },
                        legend: { data: arrLegend, selectedMode: 'single', textStyle: { fontSize: 12 }, bottom: 1, itemGap: 5 },
                        grid: { left: '1%', right: '1%', bottom: '60', top: '5', containLabel: true },
                        xAxis: { type: 'category', data: arrCategory, axisLabel: { interval: 0 } },
                        yAxis: { type: 'value', axisLabel: { formatter: '{value} %' } },
                        series: arrSeries
                    };

                    if (arrCategory.length > 6) {
                        _default.yAxis = { type: 'category', data: arrCategory, axisLabel: { interval: 0 }, }
                        _default.xAxis = { type: 'value', axisLabel: { formatter: '{value} %' } }
                    }
                }
                break;

        }

        // 基于准备好的dom，初始化echarts实例
        myChart = echarts.init(document.getElementById('main'));
        myChart.setOption(_default);
    }
</script>
</html>
